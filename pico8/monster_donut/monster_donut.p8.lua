pico-8 cartridge // http://www.pico-8.com
version 32
__lua__

function _init()
  cls(1)
  g_bounds = { x_min = 0, x_max = 15, y_min = 0, y_max = 15}
  g_debug = false

  for x=g_bounds.x_min, g_bounds.x_max do
    for y=g_bounds.y_min, g_bounds.y_max do
      if(mget(x, y) == 2) then
        monster = { x = x, y = y }
        mset(x, y, 0)
      elseif(mget(x, y) == 1) then
        cookie = { x = x, y = y }
        mset(x, y, 0)
      end
    end
  end

  monster_chase_cookie()

  pointer.init()
end

function monster_chase_cookie()
  g_counter = 0

  monster.target = cookie
  monster.board = build_board(monster)
  monster.path = find_path(monster)
  monster.index = 1
end

function get_traversal_cost(a, b)
  -- manhattan as heuristic
  return abs(a.x - b.x) + abs(a.y - b.y)
end

function get_g(node)
  if(node.g ~= nil) return node.g
  node.g = get_traversal_cost(node, node.board.source)
  return node.g
end

function get_h(node)
  if(node.h ~= nil) return node.h
  node.h = get_traversal_cost(node, node.board.target)
  return node.h
end

function get_f(node)
  return get_h(node) + get_g(node)
end

function build_board(source)
  local board = { nodes = {} }
  for x=g_bounds.x_min, g_bounds.x_max do
    local column = {}
    for y=g_bounds.y_min, g_bounds.y_max do
      local node = { x = x, y = y }
      node.walkable = mget(x, y) ~= 64
      node.state = UNTESTED
      node.board = board
      add(column, node)
    end
    add(board.nodes, column)
  end

  board.target = source.target
  board.source = source

  source.board = board
  source.walkable = true
  source.state = CLOSED

  source.target.board = board
  source.target.walkable = true
  source.target.state = CLOSED
  return board
end

UNTESTED=0
OPEN=1
CLOSED=2

function get_adjacent_walkable_nodes(node)
  local nodes={}

  for d_x=-1,1 do
    for d_y=-1,1 do
      x = node.x + d_x
      y = node.y + d_y
      if ((x ~= node.x or y ~= node.y) and
        x >= g_bounds.x_min and x <= g_bounds.x_max and
        y >= g_bounds.y_min and y <= g_bounds.y_max) then

        local next = node.board.nodes[x+1][y+1]

        if(next.walkable and next.state ~= CLOSED) then
          if(next.state == OPEN) then
            local traversal_cost = get_traversal_cost(next, node)
            local g_temp = get_g(node) + traversal_cost
            if(g_temp < get_g(next)) then
              next.parent = node
              add(nodes, next)
            end
          else
            next.parent = node
            next.state = OPEN
            add(nodes, next)
          end
        end
      end
    end
  end

  return nodes
end

function sort_by_f(a, b)
  da = get_h(a)
  db = get_h(b)
  if(da == db) then
    da = get_f(a)
    db = get_f(b)
    if(da == db) then
      da = get_g(a)
      db = get_g(b)
    end
  end
  return da > db
end


function search(node)
  node.state=CLOSED
  node.counter = g_counter
  g_counter += 1
  local next_nodes=get_adjacent_walkable_nodes(node)
  sort(next_nodes, sort_by_f)
  for next in all(next_nodes) do
    if(next.x == node.board.target.x and next.y == node.board.target.y) then
      return next
    else
      local candidate = search(next)
      if(candidate ~= nil) then
        return candidate
      end
    end
  end

  return nil
end

function reverse(table)
  for i=1, #table/2 do
    local temp = table[i]
    table[i] = table[#table - i + 1]
    table[#table - i + 1] = temp
  end
end

function find_path(source)
  local path={}
  local solution = search(source)
  if(solution ~= nil) then
    local node = solution
    while(node.parent ~= nil) do
      add(path, node)
      node=node.parent
    end
    add(path, source)
    reverse(path)
  end
  return path
end

function _update()
  local moved = false
  if(btnp(0) and cookie.x > g_bounds.x_min) then --left
    sfx(2)
    cookie.x -= 1
    moved = true
  end
  if(btnp(1) and cookie.x < g_bounds.x_max) then --right
    sfx(2)
    cookie.x += 1
    moved = true
  end
  if(btnp(2) and cookie.x > g_bounds.y_min) then --up
    sfx(2)
    cookie.y -= 1
    moved = true
  end
  if(btnp(3) and cookie.x < g_bounds.y_max) then --down
    sfx(2)
    cookie.y += 1
    moved = true
  end
  if(pointer.newly_pressed_left()) then
    sfx(0)
    mset(pointer.p_x, pointer.p_y, 64)
    moved = true
  end
  if(pointer.newly_pressed_right()) then
    sfx(1)
    mset(pointer.p_x, pointer.p_y, 0)
    moved = true
  end

  if(moved) then
    monster_chase_cookie()
  end

  if(btnp(5) and monster.index < #(monster.path)) then
    monster.index += 1 

    monster.x = monster.path[monster.index].x
    monster.y = monster.path[monster.index].y

    if(monster.x == monster.target.x and monster.y == monster.target.y) then
      sfx(4)
    else
      sfx(3)
    end
  end

  if(btnp(4)) then
    g_debug = not g_debug
  end

  pointer.update()
end

function _draw()
  cls(1)
  map(0,0,0,0,16,16)
  spr(1,cookie.x*8,cookie.y*8)
  spr(2,monster.x*8,monster.y*8)

  if(g_debug) then
    for col in all(monster.board.nodes) do
      for node in all(col) do
        if(node.counter ~= nil) then
          print(node.counter, node.x * 8 + 2, node.y * 8 + 2, (node.counter%3)+8)
        end
      end
    end

    for node in all(monster.path) do
      rect(node.x * 8,
           node.y * 8,
           node.x * 8 + 8,
           node.y * 8 + 8,
           0)
    end
  end

  print(smallcaps("  \148  ^move ^donut\n\139  \145 \n  \131"), 0, 112, 8)
  print(smallcaps("\151^advance"), 25, 122, 3)
  print(smallcaps("\142^debug"), 65, 122, 15)
  print(smallcaps("^mouse: add/del\n        wall"), 65, 112, 12)

  pointer.draw()
end

function smallcaps(s)
  local d=""
  local c
  for i=1,#s do
    local a=sub(s,i,i)
    if a!="^" then
      if not c then
        for j=1,26 do
          if a==sub("abcdefghijklmnopqrstuvwxyz",j,j) then
            a=sub("\65\66\67\68\69\70\71\72\73\74\75\76\77\78\79\80\81\82\83\84\85\86\87\88\89\90\91\92",j,j)
          end
        end
      end
      d=d..a
      c=true
    end
    c=not c
  end
  return d
end

function sort(a, c)
  for i=1,#a do
    local j = i
    while j > 1 and c(a[j-1],a[j]) do
      a[j],a[j-1] = a[j-1],a[j]
      j = j - 1
    end
  end
end

pointer=
{   
  pos= { x=0, y=0 },
  mb_l=0, mb_r=0, omx=0, omy=0, 
  t=180,
  autohide=false,
  
  init=function()
    poke(0x5f2d, 1)
    pointer.t=180
    pointer.pos.x=mid(0,stat(32),127)
    pointer.pos.y=mid(0,stat(33),127)
    pointer.mb_l=0
    pointer.mb_r=0
  end,
  
  update =function()
    pointer.omx=pointer.pos.x
    pointer.omy=pointer.pos.y
    pointer.omb_l=pointer.mb_l
    pointer.omb_r=pointer.mb_r
    pointer.pos.x=mid(0,stat(32),127)
    pointer.pos.y=mid(0,stat(33),127)
    pointer.p_x = flr(pointer.pos.x / 8)
    pointer.p_y = flr(pointer.pos.y / 8)
    pointer.mb_l=stat(34)&1
    pointer.mb_r=stat(34)&2
    if (pointer.autohide and pointer.t>0) pointer.t-=1
    if (pointer.t>=0 and (pointer.omx!=pointer.pos.x or pointer.omy!=pointer.pos.y)) pointer.t=180
  end,

  pressed_left=function()
    return (pointer.mb_l==1)
  end,

  newly_pressed_left=function()
    return (pointer.mb_l==1 and pointer.omb_l==0)
  end,

  newly_pressed_right=function()
    return (pointer.mb_r==2 and pointer.omb_r==0)
  end,

  pressed_right=function()
    return (pointer.mb_r==2)
  end,

  visible=function()
    return (pointer.t>0)
  end,

  draw=function()
    if (pointer.visible()) then
      rect(pointer.p_x * 8,
           pointer.p_y * 8,
           pointer.p_x * 8 + 8,
           pointer.p_y * 8 + 8,
           8)
      spr(3, pointer.pos.x - 2, pointer.pos.y - 2)
    end
  end
}

__gfx__
00000000007a7a00003bb30000560000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000009a999700b8338b000560000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000999009a70bbbbbb300560000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000a90000970b8788b305567600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000009900009ab38888bb05567670000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000a9900a97b0bbbb3b05577770000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000a999a7000b30b3000577700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000009a970000b30b3000577700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
44444444000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
99994999000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
44444444000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
99499949000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
44444444000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
99994994000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
44444444000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
99499499000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__label__
44444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444
99994999999949999999499999994999999949999999499999994999999949999999499999994999999949999999499999994999999949999999499999994999
44444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444
99499949994999499949994999499949994999499949994999499949994999499949994999499949994999499949994999499949994999499949994999499949
44444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444
99994994999949949999499499994994999949949999499499994994999949949999499499994994999949949999499499994994999949949999499499994994
44444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444
99499499994994999949949999499499994994999949949999499499994994999949949999499499994994999949949999499499994994999949949999499499
44444444111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111144444444
99994999111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111199994999
44444444111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111144444444
99499949111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111199499949
44444444111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111144444444
99994994111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111199994994
44444444111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111144444444
99499499111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111199499499
44444444111111110000000000000000000000000111111111111111111111111111111111111111111111111111111185688888811111111111111144444444
999949991111111109a9997101111111011111110111111111111111111111111111111111111111111111111111111185611111811111111111111199994999
4444444411111111099119a701aa11aa019911990111111111111111111111111111111111111111111111111111111185611111811111111111111144444444
994999491111111109111197011a111a011911910111111111111111111111111111111111111111111111111111111155676111811111111111111199499949
44444444111111110911119a011a111a011911910111111111111111111111111111111111111111111111111111111155676711811111111111111144444444
999949941111111109911a97011a111a011911910111111111111111111111111111111111111111111111111111111155777711811111111111111199994994
44444444111111110a999a7101aaa1aa019991990111111111111111111111111111111111111111111111111111111185777111811111111111111144444444
9949949911111111019a971101111111011111110111111111111111111111111111111111111111111111111111111185777111811111111111111199499499
44444444111111110000000000000000000000000000000001111111111111111111111111111111111111111111111188888888811111111111111144444444
99994999111111111111111111111111111111110111111101111111111111111111111111111111111111111111111111111111111111111111111199994999
44444444111111111111111111111111111111110188811101111111111111111111111111111111111111111111111111111111111111111111111144444444
99499949111111111111111111111111111111110181811101111111111111111111111111111111111111111111111111111111111111111111111199499949
44444444111111111111111111111111111111110188811101111111111111111111111111111111111111111111111111111111111111111111111144444444
99994994111111111111111111111111111111110111811101111111111111111111111111111111111111111111111111111111111111111111111199994994
44444444111111111111111111111111111111110111811101111111111111111111111111111111111111111111111111111111111111111111111144444444
99499499111111111111111111111111111111110111111101111111111111111111111111111111111111111111111111111111111111111111111199499499
44444444111111111111111111111111111111110000000000000000011111111111111144444444111111114444444411111111111111111111111144444444
99994999111111111111111111111111111111119999499901111111011111111111111199994999111111119999499911111111111111111111111199994999
44444444111111111111111111111111111111114444444401aaa111011111111111111144444444111111114444444411111111111111111111111144444444
99499949111111111111111111111111111111119949994901a1a111011111111111111199499949111111119949994911111111111111111111111199499949
44444444111111111111111111111111111111114444444401aaa111011111111111111144444444111111114444444411111111111111111111111144444444
99994994111111111111111111111111111111119999499401a1a111011111111111111199994994111111119999499411111111111111111111111199994994
44444444111111111111111111111111111111114444444401aaa111011111111111111144444444111111114444444411111111111111111111111144444444
99499499111111111111111111111111111111119949949901111111011111111111111199499499111111119949949911111111111111111111111199499499
44444444111111111111111111111111444444441111111100000000000000000111111111111111444444441111111111111111111111111111111144444444
99994999111111111111111111111111999949991111111199994999011111110111111111111111999949991111111111111111111111111111111199994999
44444444111111111111111111111111444444441111111144444444019991110111111111111111444444441111111111111111111111111111111144444444
99499949111111111111111111111111994999491111111199499949011191110111111111111111994999491111111111111111111111111111111199499949
44444444111111111111111111111111444444441111111144444444011191110111111111111111444444441111111111111111111111111111111144444444
99994994111111111111111111111111999949941111111199994994011191110111111111111111999949941111111111111111111111111111111199994994
44444444111111111111111111111111444444441111111144444444011191110111111111111111444444441111111111111111111111111111111144444444
99499499111111111111111111111111994994991111111199499499011111110111111111111111994994991111111111111111111111111111111199499499
44444444111111111111111144444444111111111111111111111111000000000000000004444444111111114444444411111111111111111111111144444444
99994999111111111111111199994999111111111111111111111111999949990111111109994999111111119999499911111111111111111111111199994999
44444444111111111111111144444444111111111111111111111111444444440181111104444444111111114444444411111111111111111111111144444444
99499949111111111111111199499949111111111111111111111111994999490181111109499949111111119949994911111111111111111111111199499949
44444444111111111111111144444444111111111111111111111111444444440188811104444444111111114444444411111111111111111111111144444444
99994994111111111111111199994994111111111111111111111111999949940181811109994994111111119999499411111111111111111111111199994994
44444444111111111111111144444444111111111111111111111111444444440188811104444444111111114444444411111111111111111111111144444444
99499499111111111111111199499499111111111111111111111111994994990111111109499499111111119949949911111111111111111111111199499499
44444444111111111111111144444444444444444444444444444444444444440000000001111111111111111111111111111111111111111111111144444444
99994999111111111111111199994999999949999999499999994999999949990111111101111111111111111111111111111111111111111111111199994999
444444441111111111111111444444444444444444444444444444444444444401aaa11101111111111111111111111111111111111111111111111144444444
994999491111111111111111994999499949994999499949994999499949994901a1111101111111111111111111111111111111111111111111111199499949
444444441111111111111111444444444444444444444444444444444444444401aaa11101111111111111111111111111111111111111111111111144444444
99994994111111111111111199994994999949949999499499994994999949940111a11101111111111111111111111111111111111111111111111199994994
444444441111111111111111444444444444444444444444444444444444444401aaa11101111111111111111111111111111111111111111111111144444444
99499499111111111111111199499499994994999949949999499499994994990111111101111111111111111111111111111111111111111111111199499499
44444444111111111111111144444444111111111111111111111111444444440000000000000000011111111111111111111111111111111111111144444444
99994999111111111111111199994999111111111111111111111111999949991111111101111111011111111111111111111111111111111111111199994999
44444444111111111111111144444444111111111111111111111111444444441111111101919111011111111111111111111111111111111111111144444444
99499949111111111111111199499949111111111111111111111111994999491111111101919111011111111111111111111111111111111111111199499949
44444444111111111111111144444444111111111111111111111111444444441111111101999111011111111111111111111111111111111111111144444444
99994994111111111111111199994994111111111111111111111111999949941111111101119111011111111111111111111111111111111111111199994994
44444444111111111111111144444444111111111111111111111111444444441111111101119111011111111111111111111111111111111111111144444444
99499499111111111111111199499499111111111111111111111111994994991111111101111111011111111111111111111111111111111111111199499499
44444444111111111111111144444444111111111111111111111111444444441111111100000000000000000111111111111111111111111111111144444444
99994999111111111111111199994999111111111111111111111111999949991111111111111111011111110111111111111111111111111111111199994999
44444444111111111111111144444444111111111111111111111111444444441111111111111111018881110111111111111111111111111111111144444444
99499949111111111111111199499949111111111111111111111111994999491111111111111111011181110111111111111111111111111111111199499949
44444444111111111111111144444444111111111111111111111111444444441111111111111111011881110111111111111111111111111111111144444444
99994994111111111111111199994994111111111111111111111111999949941111111111111111011181110111111111111111111111111111111199994994
44444444111111111111111144444444111111111111111111111111444444441111111111111111018881110111111111111111111111111111111144444444
99499499111111111111111199499499111111111111111111111111994994991111111111111111011111110111111111111111111111111111111199499499
44444444111111111111111144444444111111111111111111111111444444441111111111111111000000000000000001111111111111111111111144444444
99994999111111111111111199994999111111111111111111111111999949991111111111111111111111110111111101111111111111111111111199994999
444444441111111111111111444444441111111111111111111111114444444411111111111111111111111101aaa11101111111111111111111111144444444
99499949111111111111111199499949111111111111111111111111994999491111111111111111111111110111a11101111111111111111111111199499949
444444441111111111111111444444441111111111111111111111114444444411111111111111111111111101aaa11101111111111111111111111144444444
999949941111111111111111999949941111111111111111111111119999499411111111111111111111111101a1111101111111111111111111111199994994
444444441111111111111111444444441111111111111111111111114444444411111111111111111111111101aaa11101111111111111111111111144444444
99499499111111111111111199499499111111111111111111111111994994991111111111111111111111110111111101111111111111111111111199499499
44444444111111111111111111111111111111111111111111111111111111111111111111111111111111110000000000000000011111111111111144444444
9999499911111111111111111111111111111111111111111111111111111111111111111111111111111111111111110b8338b1011111111111111199994999
4444444411111111111111111111111111111111111111111111111111111111111111111111111111111111111111110b99bbb3011111111111111144444444
9949994911111111111111111111111111111111111111111111111111111111111111111111111111111111111111110b8988b3011111111111111199499949
444444441111111111111111111111111111111111111111111111111111111111111111111111111111111111111111038988bb011111111111111144444444
99994994111111111111111111111111111111111111111111111111111111111111111111111111111111111111111101b9bb3b011111111111111199994994
44444444111111111111111111111111111111111111111111111111111111111111111111111111111111111111111101999b31011111111111111144444444
99499499111111111111111111111111111111111111111111111111111111111111111111111111111111111111111101b31b31011111111111111199499499
44444444111111111111111111111111111111111111111111111111111111111111111111111111111111111111111100000000011111111111111144444444
99994999111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111199994999
44444444111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111144444444
99499949111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111199499949
44444444111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111144444444
99994994111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111199994994
44444444111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111144444444
99499499111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111199499499
44444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444
99994999999949999999499999994999999949999999499999994999999949999999499999994999999949999999499999994999999949999999499999994999
44444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444
99499949994999499949994999499949994999499949994999499949994999499949994999499949994999499949994999499949994999499949994999499949
44444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444
99994994999949949999499499994994999949949999499499994994999949949999499499994994999949949999499499994994999949949999499499994994
44444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444
99499499994994999949949999499499994994999949949999499499994994999949949999499499994994999949949999499499994994999949949999499499
11111111188888111111111188811111111111111111881111111111111111111ccc111111111111111111111111111111111111111c11111111111111111111
11111111888188811111111188811881818188811111818118818811818188811ccc11cc1c1c11cc1ccc11c1111111cc1cc11cc111c11cc11ccc1c1111111111
11111111881118811111111181818181818188111111818181818181818118111c1c1c1c1c1c1c111cc1111111111c1c1c1c1c1c11c11c1c1cc11c1111111111
11111111881118811111111181818181888181111111818181818181818118111c1c1c1c1c1c111c1c1111c111111ccc1c1c1c1c11c11c1c1c111c1111111111
11111111188888111111111181818811181118811111888188118181188118111c1c1cc111cc1cc111cc111111111c1c1cc11cc11c111cc111cc11cc11111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
18888811111111111888881111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
8881188111111111881188811111111111111111111111111111111111111111111111111111111111111111111111111c1c11cc1c111c111111111111111111
8811188111111111881118811111111111111111111111111111111111111111111111111111111111111111111111111c1c1c1c1c111c111111111111111111
8881188111111111881188811111111111111111111111111111111111111111111111111111111111111111111111111ccc1ccc1c111c111111111111111111
188888111111111118888811113333311333111111111111111111111111111111fffff11ff1111111111111111111111ccc1c1c11cc11cc1111111111111111
11111111111111111111111113313133131313311313113313311133133311111ff111ff1f1f1fff1ff11f1f11ff111111111111111111111111111111111111
11111111188888111111111113331333133313131313131313131311133111111ff1f1ff1f1f1ff11ff11f1f1f11111111111111111111111111111111111111
11111111881118811111111113313133131313131333133313131311131111111ff111ff1f1f1f111f1f1f1f1f1f111111111111111111111111111111111111
111111118811188111111111113333311313133111311313131311331133111111fffff11fff11ff1fff11ff1fff111111111111111111111111111111111111
11111111888188811111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111

__map__
4040404040404040404040404040404000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4000010000000000000000000000004000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4000000000000000000000000002004000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4040404040404040404040404040404000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__sfx__
00010000006000060000670006700067000670236100d6100d6100d6102b6100c610086100861007610076100661002610056002a6500460003600036000360030600226000160000600236002d6000060000600
000100000000000000326503265032620000000060030630306203062000000000000000000000000000000000000000000000007650066500665006650056500565005650046500465004650046500465004650
000100000475004750047500575005750067500775008750097500b7500c7500e750107500070000700007000070000700007000070000700007000070000700277502b7502f7500070000700007000070000700
00010000000003b1003b1000a1500a1500a1500a1500b1500c15037100351000a1500a1500a150000003410034100000000000000000000000b1500b1500b1500c1500c1500c1500c1500c1500c1500c1500b150
00020000257602476025760287402b7302c720007002170021700207001e7501e7501e7501f7302373024700247002470000700007001a7401b7401e7401f740207401f7401e7301d7301b730197301570014700
