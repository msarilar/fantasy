pico-8 cartridge // http://www.pico-8.com
version 32
__lua__
max_session_player_y = 0
music(0)
darker_color =
{
    0, 0, 1, 5,

    5, 0, 5, 6,

    2, 8, 9, 3,

    1, 1, 13, 14
}
function _init()
    player =
    {
        abs_x = 0,
        pos_x = 0,
        pos_y = 0,
        d_y = 0
    }

    START = 1
    RUNNING = 2
    DEAD = 3

    game_state = START
    
    IDLE = 1
    JUMPING = 2
    DEAD = 3
    
    player_state = IDLE

    player_animations =
    {
        {   -- idle
            current = 1,
            frames = expand_keyframes({10,38, 10, 39, 10, 40})
        },
        {  -- jumping
            current = 1,
            frames = expand_keyframes({10,38, 10, 39, 10, 40})
        },
        {  -- dead
            current = 1,
            frames = expand_keyframes({5,54, 5,55, 5,56})
        }
    }
    
    can_jump = true
    can_double_jump = false

    effects={}

    max_player_y = 0
    high_score_beaten = false
    lava_line = 110

    platforms = {}

    min_platform_x = 24 - 12
    add(platforms, { start_x = min_platform_x + 44, start_y = 71 })

    while(#platforms < 10) do
    add(platforms, { start_x = min_platform_x + rnd(91), start_y = -20 + rnd(80) }) end

    add(platforms, { start_x = min_platform_x, start_y = 64 })
    add(platforms, { start_x = min_platform_x + 12, start_y = 56 })
    add(platforms, { start_x = min_platform_x + 91, start_y = 56 })

    time_64 = 0
    time = 0
    death_time = 0
end

function expand_keyframes(keyframes)
  local ret={}
  for i=1, #keyframes, 2 do
    for j=1, keyframes[i] do
      add(ret, keyframes[i+1])
    end
  end
  return ret
end

function _update()
    time_64 = (time_64 + 1) % 64
    time += 1
    death_time += 1

    update_effects()
    update_player()
    update_platforms()
    update_lava()
end

function update_effects()
    for effect in all(effects) do
        effect.frame += effect.speed_ratio
        if(effect.frame >= effect.total_frames) then
            del(effects, effect)
        else
            effect.pos_x = effect.start_x + player.abs_x
            effect.pos_y = effect.start_y + player.pos_y
        end
    end
end

function update_lava()
    if(game_state == RUNNING) then
        local speed = min(time / 1000 + 0.3, 1.3)
        if(80 >= lava_line + player.pos_y) speed -= 0.3
        lava_line -= speed
    end

    for i = lava_line + player.pos_y + 20, 136, 30 do
        add(effects, lava_bubble(rnd(128+64)-64, i + rnd(30)-15))
    end

    if(64 >= lava_line + player.pos_y and game_state ~= DEAD) then
        game_state = DEAD
        player_state = DEAD
        death_time = 0
        sfx(1)
    end
end

function lava_bubble(x, y)
    return {
        start_x = x - player.abs_x,
        start_y = y - player.pos_y,
        spr = 22,
        total_frames = 7,
        frame = 0,
        speed_ratio=0.2,
        pswap={{7,10},{12,9},{1,8}}
    }
end

function double_jump()
    return {
        start_x = 60 - player.abs_x,
        start_y = 58 - player.pos_y,
        spr = 22,
        total_frames = 7,
        frame = 0,
        speed_ratio=0.5
    }
end

function update_player()
    local moved

    player_animations[player_state].current = 1 + (player_animations[player_state].current + 1) % #player_animations[player_state].frames

    -- jump / double jump / reset when dead:
    if(btnp(4)) then
        if(game_state == DEAD) then
            if(death_time > 20) _init()
        elseif(can_jump or can_double_jump) then
            player_state = JUMPING
            player.d_y = 5
            sfx(0)
            if(can_jump) then
                can_double_jump = true
                can_jump = false
            elseif(can_double_jump) then
                add(effects, double_jump())
                can_double_jump = false
            end
            moved = true
        end
    end

    if(btn(1)) then
        if(game_state == RUNNING) then
            player.pos_x = (player.pos_x + 2) % (112 * 2)
            player.abs_x -= 2
        end
        moved = true and game_state == START
    end
    
    if(btn(0)) then
        if(game_state == RUNNING) then
            player.pos_x = (player.pos_x - 2) % (112 * 2)
            player.abs_x += 2
        end
        moved = true and game_state == START
    end

    if(moved and game_state ~= RUNNING) then
        game_state = RUNNING
    end

    if(game_state == RUNNING) then
        local height = nil
        for i=64-4, 8+64-4 do
            for j=64+8, 64+8+flr(player.d_y), -1 do
                if(pget(i,j) == 4) then
                    height = 64 - j
                    break
                end
            end
        end
        
        if(height ~= nil) then
            if(player.d_y < 0) then
                player.d_y = 0
                player.pos_y = flr(player.pos_y - height - 8)
                player_state = IDLE
            end
        else
            player.d_y -= 0.5
        end

        can_jump = height ~= nil

        player.d_y = bounds(player.d_y, -3, 10)

        player.pos_y += player.d_y
    end
end

function update_platforms()
    local min_y
    
    for platform in all(platforms) do
        local y = platform.start_y + flr(player.pos_y)
        local x = flr(player.pos_x)

        local index = (platform.start_x + x) / 224
        if(index > 1) index -= 1

        if(index < 0.5) then
            platform.in_front = true
            local pos_x = 56 + cos(index) * 45
            local sprite_offset = flr((pos_x - 11) / ((105 - 11) / 16))
            platform.pos_x = pos_x
            platform.pos_y = y
            if(sprite_offset >= 8) then
                platform.sprite_offset = (7 - (sprite_offset - 8)) * 8
                platform.flip = true
            else
                platform.sprite_offset = sprite_offset * 8
                platform.flip = false
            end
        else
            platform.in_front = false
        end

        if(min_y == nil or min_y > y) then
            min_y = y
        end

        if(y > (lava_line + 16 + player.pos_y)) then
            del(platforms, platform)
        end
    end

    if(player.pos_y > max_player_y) then
        max_player_y = flr(player.pos_y)
        if (min_y > 20) then
            add(platforms, { start_x = min_platform_x + rnd(224), start_y = -max_player_y + rnd(20) - 10 })
            add(platforms, { start_x = min_platform_x + rnd(224), start_y = -max_player_y + rnd(20) - 10 })
            add(platforms, { start_x = min_platform_x + rnd(224), start_y = -max_player_y + rnd(20) - 10 })
            add(platforms, { start_x = min_platform_x + rnd(224), start_y = -max_player_y + rnd(20) - 10 })
        end
    end
end

function bounds(i, _min, _max)
    return min(max(i, _min), _max);
end

function _draw()
    cls(0)

    draw_map()
    draw_tower()
    draw_shadow()
    draw_platforms()
    draw_lava()
    draw_player()
    draw_effects()
    draw_hud()
end

function draw_shadow()

    apply_shadow(28,0, 36,128)
    apply_shadow(90,0, 110,128)
end

function draw_map()
    local x = player.abs_x * 1.5
    local y = player.pos_y / 2
    map(0,0,
    (x % 128), y % 128,
    16,16)
    map(0,0,
    (x - 128 % 128), y % 128,
    16,16)
    map(0,0,
    (x % 128) - 128, y % 128,
    16,16)
    
    map(0,0,
    (x % 128),(y % 128) - 128,
    16,16)
    map(0,0,
    (x - 128 % 128), (y % 128) - 128,
    16,16)
    map(0,0,
    (x % 128) - 128, (y % 128) - 128,
    16,16)
end

function draw_effects()
    for effect in all(effects) do
        if(effect.pswap == nil) then
            pal()
        else
            for pswap in all(effect.pswap) do
                pal(pswap[1], pswap[2])
            end
        end
        spr(flr(effect.spr + effect.frame),
             effect.pos_x, effect.pos_y,
             1, 1,
             effect.flip_x, effect.flip_y)
    end

    pal()
end

function apply_shadow(x0, y0, x1, y1)
    for i = x0, x1, 1 do
        for j = y0, y1, 1 do
            pset(i, j, darker_color[pget(i, j) + 1])
        end
    end
end

function draw_hud()
    rectfill(0,0,128,5,0)
    print("high:"..max_session_player_y,0,0,7)
    print(max_player_y,100,0,7)

    if(game_state == DEAD) then
        if(max_player_y > max_session_player_y) then
            max_session_player_y = max_player_y
            high_score_beaten = true
        end

        if(high_score_beaten) then
            print("new highscore !", 36, 80, 0)
            apply_shadow(0,78,128,86)
            apply_shadow(0,78,128,86)
            print("new highscore !", 35, 80, flr(rnd(16)))
        end

        apply_shadow(0,98,128,106)
        apply_shadow(0,98,128,106)
        print("you died!", 45, 100, 0)
        print("you died!", 44, 100, 7)

        apply_shadow(0,118,128,126)
        apply_shadow(0,118,128,126)
        print("\142 to start again", 30, 120, 0)
        print("\142 to start again", 29, 120, 7)
    elseif(game_state == START) then
        print("\142 to jump / double jump", 21, 120, 0)
        print("\142 to jump / double jump", 20, 120, 7)
    end
end

function draw_lava()
    local time = flr(time_64 / 2)

    for i = 0, 128, 16 do
        sspr(48+(time%4)*16, 0,
             16, 8,
             i, lava_line + player.pos_y)
    end

    rectfill(0, lava_line + 8 + player.pos_y, 128, 128, 8)
end

function draw_player()
    spr(player_animations[player_state].frames[player_animations[player_state].current], 64 - 4, 64)
end

function draw_platforms()
    for platform in all(platforms) do
        if(platform.in_front) then
            sspr(32, platform.sprite_offset,
                16, 8,
                platform.pos_x, platform.pos_y,
                16, 8,
                platform.flip, false)
        end
    end
end

function draw_tower()
    local start_x = 24

    local sprite_offset_even = ((flr(player.pos_x)) % 16) * 8
    local sprite_offset_even_right = ((flr(-1 * player.pos_x) - 3) % 16) * 8
    local sprite_offset_odd = ((flr(player.pos_x) + 8) % 16) * 8
    local sprite_offset_odd_right = ((flr(-1 * player.pos_x) - 3 + 8) % 16) * 8

    -- draw rows:
    for j = 0, 128/8 , 2 do

        local y = ((j * 8) + flr(player.pos_y)) % 128

        sspr(16, sprite_offset_even,
            16, 8,
            start_x + 4, y,
            8, 8)


        sspr(16, sprite_offset_even,
            16, 8,
            start_x + 4 + 8, y,
            12, 8)

        sspr(16, sprite_offset_even,
             16, 8,
             start_x + 8 + 16, y,
             16, 8)

        sspr(16, sprite_offset_even_right,
             16, 8,
             start_x + 8 + 16 + 16, y,
             16, 8,
             true, false)

        sspr(16, sprite_offset_even_right,
             16, 8,
             start_x + 8 + 16 + 16 + 16, y,
             12, 8,
             true, false)

        sspr(16, sprite_offset_even_right,
             16, 8,
             start_x + 8 + 16 + 16 + 16 + 8 + 4, y,
             8, 8,
             true, false)
            
        y = (((j+1) * 8) + flr(player.pos_y)) % 128

        sspr(16, sprite_offset_odd,
            16, 8,
            start_x + 4, y,
            8, 8)

        sspr(16, sprite_offset_odd,
            16, 8,
            start_x + 4 + 8, y,
            12, 8)

        sspr(16, sprite_offset_odd,
             16, 8,
             start_x + 8 + 16, y,
             16, 8)

        sspr(16, sprite_offset_odd_right,
             16, 8,
             start_x + 8 + 16 + 16, y,
             16, 8,
             true, false)

        sspr(16, sprite_offset_odd_right,
             16, 8,
             start_x + 8 + 16 + 16 + 16, y,
             12, 8,
             true, false)

        sspr(16, sprite_offset_odd_right,
             16, 8,
             start_x + 8 + 16 + 16 + 16 + 8 + 4, y,
             8, 8,
             true, false)
    end
end

__gfx__
000000000000000055555555555555550000000000000000a00a00a000000a0000000000000000000000000000a0000a000a000a00000a000000000000000000
00000000000000006666666666666555000000000004444400aaa000000000a0a000aaa00a00aaa0a00a0000000000aa0a0a0a00aaa000000000000000000000
000000000000000066666666666665550000000000044444aa89aaa00aaaaa0000a8aa8aa00aaa8a9aa00aaaaa00aaa9aaaa00aaa8aaa00a0000000000000000
000000000000000066666666666665550000000000044400aa9a98aaaaa8aaaaaaaa999aaaaa999aa8aaaa8a8aaaaa99a9a8aaa8999aaaa80000000000000000
0000000000000000666666666666655500000000000044409898999aa98a998a8a99a9899aa98a9a999aa99999aa89a8999aaa9999a99aa90000000000000000
00000000000000006666666666666555000000000000044499889a9999999a9999999889999a8889a999999a9a99999899999999888899a80000000000000000
000000000000000066666666666665550000000000000044888888899889889999888898899889888889988898998888988a9988a88889980000000000000000
00000000000000006666666666666555000000000000000088988888888888888888888888888888888888888888888988889888889888880000000000000000
00001000000000005555555555555555000000000000000000000000000000000000000000000000000000007000000710000001000000000000000000000000
00001000000000006666666666665556000000044444444400000000000000000000000000000000077007700c0000c000000000000000000000000000000000
00001000000000006666666666665556000000044444444400000000007777000777777000c00c0007c00c700010010000000000000000000000000000000000
11111111000000006666666666665556000000000444400000777700077cc77077cccc770cccccc0701011070000000000000000000000000000000000000000
100000000000000066666666666655560000000000444400007cc70007cccc707cc11cc7cc1111ccc100001c1000000c00000000000000000000000000000000
10000000000000006666666666665556000000000004444000777700077cc77077cccc770cccccc0701101070010000000000000000000000000000000000000
10000000000000006666666666665556000000000000444400000000007777000777777000c00c0007c00c700000010000000001000000000000000000000000
11111111000000006666666666665556000000000000000000000000000000000000000000000000077007707c0000c710000000000000000000000000000000
00000111111000005555555555555555000000000000000000011000000000000000000000011000000000000000000000000000000000000000000000000000
000111111111100066666666666555660000044444444444001cc1000001100000011000001cc100000000000000000000000000000000000000000000000000
00111221122111006666666666655566000004444444444401cccc10001cc100001cc10001cccc10000000000000000000000000000000000000000000000000
0011222112221100666666666665556600000000449440001c7cc7c101cccc1001cccc10011cc110000000000000000000000000000000000000000000000000
0111222112221110666666666665556600000000044944001c1cc1c1017cc710011cc1101c7cc7c1000000000000000000000000000000000000000000000000
0112222112222110666666666665556600000000004494401cccccc11c1cc1c11c7cc7c11cccccc1000000000000000000000000000000000000000000000000
01122221122221106666666666655566000000000004494401cccc101cccccc11cccccc101cccc10000000000000000000000000000000000000000000000000
01111111111111106666666666655566000000000000000000111100111111110111111000111100000000000000000000000000000000000000000000000000
01111111111111105555555555555555000000000000000000111100000000000000000000000000000000000000000000000000000000000000000000000000
01111111111111106666666666555666000444444444444401122110001111000000000000000000000000000000000000000000000000000000000000000000
01122221122221106666666666555666000444444444444411222211012222100001100000000000000000000000000000000000000000000000000000000000
01122221122221106666666666555666000000444044400011722711027277200077270000000000000000000000000000000000000000000000000000000000
01122221122221106666666666555666000000044404440017722771027727200072770000000000000000000000000000000000000000000000000000000000
01122221122221106666666666555666000000004440444011222211012222100001100000000000000000000000000000000000000000000000000000000000
01111111111111106666666666555666000000000444044401122110001111000000000000000000000000000000000000000000000000000000000000000000
01111111111111106666666666555666000000000000000000111100000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000005555555555555555000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000006666666665556666004444444444444400000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000006666666665556666004444444444444400000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000006666666665556666000044400044400000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000006666666665556666000004440004440000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000006666666665556666000000444000444000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000006666666665556666000000044000044000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000006666666665556666000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000005555555555555555000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000006666666655566666044444444444444400000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000006666666655566666044444444444444400000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000006666666655566666000444000044400000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000006666666655566666000044400004440000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000006666666655566666000004440000444000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000006666666655566666000000440000044000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000006666666655566666000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000005555555555555555000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000006666666555666666444444444444444400000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000006666666555666666444444444444444400000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000006666666555666666000440000004400000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000006666666555666666000444000004440000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000006666666555666666000044000000440000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000006666666555666666000044000000440000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000006666666555666666000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000005555555555555555000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000006666665556666666444444444444444400000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000006666665556666666444444444444444400000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000006666665556666666000440000004400000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000006666665556666666000440000004400000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000006666665556666666000440000004400000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000006666665556666666000440000004400000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000006666665556666666000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000005555555555555555000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000006666655566666666000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000006666655566666666000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000006666655566666666000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000006666655566666666000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000006666655566666666000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000006666655566666666000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000006666655566666666000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000005555555555555555000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000006666555666666666000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000006666555666666666000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000006666555666666666000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000006666555666666666000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000006666555666666666000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000006666555666666666000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000006666555666666666000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000005555555555555555000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000006665556666666666000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000006665556666666666000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000006665556666666666000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000006665556666666666000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000006665556666666666000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000006665556666666666000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000006665556666666666000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000005555555555555555000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000006655566666666666000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000006655566666666666000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000006655566666666666000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000006655566666666666000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000006655566666666666000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000006655566666666666000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000006655566666666666000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000005555555555555555000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000006555666666666666000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000006555666666666666000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000006555666666666666000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000006555666666666666000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000006555666666666666000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000006555666666666666000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000006555666666666666000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000005555555555555555000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000005556666666666666000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000005556666666666666000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000005556666666666666000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000005556666666666666000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000005556666666666666000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000005556666666666666000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000005556666666666666000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000055555555555555550000000000000000000000000000000000000000000000000000000000000000000000000000000000a0a00000000000
0000000000000000556666666666666500000000000000000000000000000000000000000000000000000000000000000000000000000000000a000000000000
000000000000000055666666666666650000000000000000000000000000000000000000000000000000000000000000000000000000000000aba00000000e00
0000000000000000556666666666666500000000000000000000000000000000000000000000000000000000000000000000000000000000333333b33bbb333b
0000000000000000556666666666666500000000000000000000000000000000000000000000000000000000000000000000000000000000444434b4444444bb
0000000000000000556666666666666500000000000000000000000000000000000000000000000000000000000000000000000000000000004030b0000004bb
0000000000000000556666666666666500000000000000000000000000000000000000000000000000000000000000000000000000000000004000000000040b
00000000000000005566666666666665000000000000000000000000000000000000000000000000000000000000000000000000000000000040000000000400
00000000000000005555555555555555000000000000000000000000000000000000000000000000000000000000000000000000000000000a0a000000000000
000000000000000056666666666666550000000000000000000000000000000000000000000000000000000000000000000000000000000000a0000000000000
00000000000000005666666666666655000000000000000000000000000000000000000000000000000000000000000000000000000000000aba000000000e00
0000000000000000566666666666665500000000000000000000000000000000000000000000000000000000000000000000000000000000333333b33bbb333b
0000000000000000566666666666665500000000000000000000000000000000000000000000000000000000000000000000000000000000444434b4444444bb
0000000000000000566666666666665500000000000000000000000000000000000000000000000000000000000000000000000000000000004430b0000004bb
0000000000000000566666666666665500000000000000000000000000000000000000000000000000000000000000000000000000000000004400000000044b
00000000000000005666666666666655000000000000000000000000000000000000000000000000000000000000000000000000000000000040000000000400
__label__
70707770077070700000777000000000000000000000000000000000000000000000000000000000000000000000000000007770777000000000000000000000
70700700700070700700707000000000000000000000000000000000000000000000000000000000000000000000000000000070007000000000000000000000
77700700700077700000707000000000000000000000000000000000000000000000000000000000000000000000000000000770007000000000000000000000
70700700707070700700707000000000000000000000000000000000000000000000000000000000000000000000000000000070007000000000000000000000
70707770777070700000777000000000000000000000000000000000000000000000000000000000000000000000000000007770007000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000100000001000000010000005555500556666666555666666666666555666666666666655566666666665505555550050000000000012222112222110100
00000100000001000000010000005555500556666666555666666666666555666666666666655566666666665505555550050000000000012222112222110100
11111111111111111111111111115555500556666666555666666666666555666666666666655566666666665505555550050000000000011111111111110111
01000000010000000100000001005555500556666666555666666666666555666666666666655566666666665505555550050000000000011111111111110000
01000000010000000100000001005555500556666666555666666666666555666666666666655566666666665505555550050000000000011111111111110000
01000000010000000100000001000000000005555555555555555555555555555555555555555555555555555500000000000000000000012222112222110000
11111111111111111111111111115005555556555666666666655566666666666665556666666666665556666655500555550000000000012222112222110111
00000100000001000000010000005005555556555666666666655566666666666665556666666666665556666655500555550000000000012222112222110100
00000100000001000000010000005005555556555666666666655566666666666665556666666666665556666655500555550000000000012222112222110100
00000100000001000000010000005005555556555666666666655566666666666665556666666666665556666655500555550000000000011111111111110100
11111111111111111111111111115005555556555666666666655566666666666665556666666666665556666655500555550000000000011111111111110111
01000000010000000100000001005005555556555666666666655566666666666665556666666666665556666655500555550000000000000100000001000000
01000000010000000100000001005005555556555666666666655566666666666665556666666666665556666655500555550000000000000100000001000000
01000000010000000100000001000000000005555555555555555555555555555555555555555555555555555500000000000000000000000100000001000000
11111111111111111111111111115555500556666666555666666666666555666666666666655566666666665505555550050000000000011111111111111111
00000100000001000000010000005555500556666666555666666666666555666666666666655566666666665505555550050000000000000000010000000100
00000100000001000000010000005555500556666666555666666666666555666666666666655566666666665505555550050000000000000000010000000100
00000100000001000000010000005555500556666666555666666666666555666666666666655566666666665505555550050000000000000000010000000100
11111111111111111111111111115555500556666666555666666666666555666666666666655566666666665505555550050000000000011111111111111111
01000000010000000100000001005555500556666666555666666666666555666666666666655566666666665505555550050000000000000100000001000000
01000000010000000100000001005555500556666666555666666666666555666666666666655566666666665505555550050000000000000100000001000000
01000000010000000100000001000000000005555555555555555555555555555555555555555555555555555500000000000000000000000100000001000000
11111111111111111111111111115005555556555666666666655566666666666665556666666666665556666655500555550000000000011111111111111111
00000100000001000000010000005005555556555666666666655566666666666665556666666666665556666655500555550000000000000000010000000100
00000100000001000000010444445005555556555666666666655566666666666665556666666666665556666655500555550000000000000000010000000100
00000100000001000000010444445005555556555666666666655566666666666665556666666666665556666655500555550000000000000000010000000100
11111111111111111111111444115005555556555666666666655566666666666665556666666666665556666655500555550000000000011111111111111111
01000000010000000100000044405005555556555666666666655566666666666665556666666666665556666655500555550000000000000100000001000000
01000000010000000100000004445005555556555666666666655566666666666665556666666666665556666655500555550000000000000100000001000000
01000000010000000100000001440000000005555555555555555555555555555555555555555555555555555500000000000000000000000100000001000000
11111111111111111111111111114444444446666666555666666666666555666666666666655566666666665505555550050000000000011111111111111111
00000100000001000000010000004444444446666666555666666666666555666666666666655566666666665505555550050000000000000000010000000100
00000100000001000000010000005544440556666666555666666666666555666666666666655566666666665505555550050000000000000000010000000100
00000100000001000000010000005554444556666666555666666666666555666666666666655566666666665505555550050000000000000000010000000100
11111111111111111111111111115555444456666666555666666666666555666666666666655566666666665505555550050000000000011111111111111111
01000000010000000100000001005555544446666666555666666666666555666666666666655566666666665505555550050000000000000100000001000000
01000000010000000100000001005555500556666666555666666666666555666666666666655566666666665505555550050000000000000100000001000000
01000000010000000100000001000000000005555555555555555555555555555555555555555555555555555500000000000000000000000100000001000000
11111111111111111111111111115005555556555666666666655566666666666665556666666666665556666655500555550000000000011111111111111111
00000100000001000000010000005005555556555666666666655566666666666665556666666666665556666655500555550000000000000000010000000100
00000100000001000000010000005005555556555666666666655566666666666665556666666666665556666655500555550000000000000000010000000100
00000100000001000000010000005005555556555666666666655566666666666665556666666666665556666655500555550000000000000000010000000100
11111111111111111111111111115005555556555666666666655566666666666665556666666666665556666655500555550000000000011111111111111111
01000000010000000100000001005005555556555666666666655566666666666665556666666666665556666655500555550000000000000100000001000000
01000000010000000100000001005005555556555666666666655566666666666665556666666666665556666655500555550000000000000100000001000000
01000000010000000100000001000000000005555555555555555555555555555555555555555555555555555500000000000000000000000100000001000000
11111111111111111111111111115555500556666666555666666666666555666666666666655566666666665505555550050000000000011111111111111111
00000100000001000000010000005555500556666666555666666666666555666666666666655566666666665505555550050000000000000000010000000100
00000100000001000000010000005555500556666666555666666666666555666666666666655566666666665505555550050000000000000000010000000100
00000100000001000000010000005555500556666666555666666666666555666666666666655566666666665505555550050000000000000000010000000100
11111111111111111111111111115555500556666666555666666666666555666666666666655566666666665505555550050000000000011111111111111111
01000000010000000100000001005555500556666666555666666666666555666666666666655566666666665505555550050000000000000100000001000000
01000000010000000100000001005555500556666666555666666666666555666666666666655566666666665505555550050000000000000100000001000000
01000000010000000100000001000000000005555555555555555555555555555555555555555555555555555500000000000000000000000100000001000000
11111111111111111111111111444444444556555666666666655566666666666665556666666666665556666655500555550000000000011111111111111111
00000100000001000000010000444444444556555666666666655566666666666665556666666666665556666655500555550000000000000000010000000100
00000100000001000000010000004444555556555666666666655566666666666665556666666666665556666655500555550000000000000000010000000100
00000100000001000000010000005444455556555666666666655566666666666665556666666666665556666655500555550000000000000000010000000100
11111111111111111111111111115044445556555666666666655566666666666665556666666666665556666655500555550000000000011111111111111111
01000000010000000011111100005004444556555666666666655566666666611665556666666666665556666655500555550000000000000100000001000000
010000000100000011111111110050055555565556666666666555666666661cc165556666666666665556666655500555550000000000000100000001000000
01000000010000011122112211100000000005555555555555555555555551cccc15555555555555555555555500000000000000000000000100000001000000
111111111111100112221122211055554444444444444556666666666665517cc716666666655566666666665505555550050000000000011111111111111111
0000010000000011122211222111555544444444444445566666666666651c1cc1c1666666655566666666665505555550050000000000000000010000000100
0000010000000011222211222211555550044464446655566666666666651cccccc1666666655566666666665505555550050000000000000000010000000100
00000100000000112222112222115555500544464446555666666666666511111111666666655566666666665505555550050000000000000000010000000100
11111111111110111111111111115555500554446444555666666666666555666666666666655566666666665505555550050000000000011111111111111111
01000000010000111111111111115555500556444644455666666666666555666666666666655566666666665505555550050000000000000100000001000000
01000000010000111111111111115555500556666666555666666666666555666666666666655566666666665505555550050000000000000100000001000000
01000000010000112222112222110000000005555555555555555555555555555555555555555555555555555500000000000000000000000100000001000000
11111111111110112222112222115005555556555666666666655566666666666665556666666666665556666655500555550000000000011111111111111111
00000100000000112222112222115005555556555666666666655566666666666665556666666666665556666655500555550000000000000000010000000100
00000100000000112222112222115005555556555666666666655566666666666665556666666666665556666655500555550000000000000000010000000100
00000100000000111111111111115005555556555666666666655566666666666665556666666666665556666655500555550000000000000000010000000100
11111111111110111111111111115005555556555666666666655566666666666665556666666666665556666655500555550000000000011111111111111111
01000000010000000100000001005005555556555666666666655566666666666665556666666666665556666655500555550000000000000100000001000000
01000000010000000100000001005005555556555666666666655566666666666665556666666666665556666655500555550000000000000100000001000000
01000000010000000100000001000000000005555555555555555555555555555555555555555555555555555500000000000000000000000100000001000000
11111111111111111111111111115555500556666666555666666666666555666666666666655566666666665505555550050000000000011111111111111111
00000100000001000000010000005555500556666666555666666666666555666666666666655566666666665505555550050000000000000000010000000100
00000100000001000000010000005555500556666666555666666666666555666666666666655566666666665505555550050000000000000000010000000100
00000100000001000000010000005555500556666666555666666666666555666666666666655566666666665505555550050000000000000000010000000100
11111111111111111111111111115555500556666666555666666666666555666666666666655566666666665505555550050000000000011111111111111111
01000000010000000100000001005555500556666666555666666666666555666666666666655566666666665505555550050000000000000100000001000000
01000000010000000100000001005555500556666666555666666666666555666666666666655566666666665505555550050000000000000100000001000000
01000000010000000100000001000000000005555555555555555555555555555555555555555555555555555500000000000000000000000100000001000000
11111111111111111111111111115005555556555666666666655566666666666665556666666666665556666655500555550000000000011111111111111111
00000100000001000000010000005005555556555666666666655566666666666665556666666666665556666655500555550000000000000000010000000100
00000100000001000000010000005005555556555666666666655566666666666665556666666666665556666655500555550000000000000000010000000100
00000100000001000000010000005005555556555666666666655566666666666665556666666666665556666655500555550000000000000000010000000100
a11a11a111111a11a11a11a111115a05a55a56a556666a66a66a55a666666a66a66a55a666666a66a65a56a666555a05a55a00a000000a01a11a11a111111a11
01aaa000010000a001aaa000010050a555aaa655566666a666aaa566666666a666aaa566666666a666aaa666665550a555aaa000000000a001aaa000010000a0
aa89aaa00aaaaa00aa89aaa00aaaaa05aa89aaa55aaaaa66aa89aaa66aaaaa66aa89aaa66aaaaa66aa89aaa66aaaaa05aa89aaa00aaaaa00aa89aaa00aaaaa00
aa9a98aaaaa8aaaaaa9a98aaaaa8aaaaaa9a98aaaaa8aaaaaa9a98aaaaa8aaaaaa9a98aaaaa8aaaaaa9a98aaaaa8aaaaaa9a98aaaaa8aaaaaa9a98aaaaa8aaaa
9898999aa98a998a9898999aa98a998a9898999aa98a998a9898999aa98a998a9898999aa98a998a9898999aa98a998a9898999aa98a998a9898999aa98a998a
99889a9999999a9999889a9999999a9999889a9999999a9999889a9999999a9999889a9999999a9999889a9999999a9999889a9999999a9999889a9999999a99
88888889988988998888888998898899888888899889889988888889988988998888888998898899888888899889889988888889988988998888888998898899
88988888888888888898888888888888889888888888888888988888888888888898888888888888889888888888888888988888888888888898888888888888
88888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
88888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
88888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
88888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
88888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
88888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
88888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
88888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
88888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
88888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
88888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
88888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
88888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
88888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
88888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
88888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
88888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
88888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
88888888888888888888888888888888aaaa88888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
88888888888888888888888888888888a99a88888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
88888888888888888888888888888888aaaa88888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
88888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
88888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
88888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888

__map__
1010202110101010101020211010101000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1010303110101010101030311010101000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1010101010101010101010101010101000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1010101010101010101010101010101000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1010101010101010101010101010101000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1010101010101010101010101010101000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1010101010101010101010101010101000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1010101010101010101010101010101000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1010101010102021101010101010202100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1010101010103031101010101010303100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1010101010101010101010101010101000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1010101010101010101010101010101000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1010101010101010101010101010101000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1010101010101010101010101010101000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1010101010101010101010101010101000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1010101010101010101010101010101000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__sfx__
010100000375203752047520475205752067520775205752087520a752137520b7520d7520f7521175214752177521b7521e752247522d752377561b7021b7021d7021b702277021f70222702247022770229702
01050000017510275103751077510b751107511975123701297012e70103751067510b7510d7510e7010e70122701147011970100751017510275103751047510575106751067510675106751057510575105751
01280000117540c751117521175513752137551c70116750107551075510755007001c7011c7521d7511f752207512275222752227551c7010075000752017520c7520c75204752047521075210755047001c701
010400203a6113f6063a6063a6063d606256063a6160f6060f606116060f6060c60609606066063a6160f6060f6063a616076060660605606056063a6160f6060f60600606006060060608606086063a61600006
0128000000700007000070000700007000070000700007001075510755107551c70100700007000070000700007002275522755227551c7011c70100000000000000000000000000000000000000000000000000
012800000c7540c7510d7500d7560d7520d7520c751107551c7011c701007001c7011c7011c7011c7551c7551c7011c701047001c7011c7010075000752017520c7520c75204752047521075210755047001c701
0128000000000000002275522755227551c7010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001075510755107551c70100000000000000000000
__music__
00 02034344
00 04034344
00 05034344
02 06034344

